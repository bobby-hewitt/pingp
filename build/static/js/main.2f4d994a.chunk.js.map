{"version":3,"sources":["reducers/index.js","reducers/host.js","reducers/gameplay.js","reducers/player.js","store.js","sockets/player.js","sockets/host.js","actions/host.js","actions/player.js","actions/gameplay.js","containers/SocketListener/index.js","components/canvas/index.js","containers/Home/index.js","containers/Mobile/index.js","containers/RooomFull/index.js","containers/RoomNotFound/index.js","Routes.js","index.js"],"names":["history","initialState","roomCode","players","round","isInPlay","responses","coords","x","y","z","coords2","host","state","arguments","length","undefined","action","type","Object","objectSpread","payload","newPlayers","assign","push","console","log","sort","obj1","obj2","time","gameIsStarted","gameOver","gameplay","room","playerNumber","player","self","createBrowserHistory","middleware","thunk","routerMiddleware","composedEnhancers","compose","apply","applyMiddleware","concat","store","createStore","combineReducers","router","connectRouter","socket","openSocket","subscribeToPlayerEvents","cb","on","data","props","setPlayerRoom","result","setPlayerNumber","bind","this","startGameSocket","startGame","emit","long","quitGameSocket","restartGameSocket","setGameOver","subscribeToHostEvents","setResponses","window","location","reload","setRoomCode","dispatch","setCoords1","setCoords2","addPlayer","startRoundHost","setSelf","SocketListener","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_this","isHost","react_default","a","createElement","Component","connect","bindActionCreators","path","Canvas","maxScore","ctx","hasStarted","playerHeight","playerWidth","playerX","playerY","innerHeight","player2X","innerWidth","player2Y","player1Score","player2Score","ballSize","ballX","ballY","ballDirX","ballDirY","ballYSpeed","Math","random","ballXSpeed","np","numOfPlayers","resetScores","setup","isGameOver","height","width","refs","canvas","getContext","loop","setState","clearRect","isPlaying","updateBall","is2Player","updatePlayer2","updatePlayer","checkCollision","checkPlayer2Collision","drawBoard","drawPlayer","drawBall","requestAnimationFrame","beginPath","setLineDash","strokeStyle","moveTo","lineTo","stroke","_this2","r","draw","arc","PI","fillStyle","fill","yDir","yDir2","Player","w","h","rect","top","bottom","top2","bottom2","ref","id","className","Home","timeouts","speed","countdown","countdownNumber","addEventListener","i","clearTimeout","n","delay","show","timeoutIndex","_this3","setTimeout","_React$createElement","uri","encodeURIComponent","toLowerCase","containers_SocketListener","canvas_Canvas","defineProperty","src","Mobile","xDir","code","pathname","split","obj","name","toUpperCase","orientation","findLimit","beta","dirs","coord","JSON","stringify","onClick","RoomFull","Routes","Route","exact","component","RoomNotFound","render","es","lib","Fragment","src_Routes","document","getElementById"],"mappings":"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","file":"static/js/main.2f4d994a.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\nimport { routerReducer } from 'react-router-redux'\nimport { connectRouter } from 'connected-react-router'\n// import counter from './counter'\nimport host from './host'\nimport gameplay from './gameplay'\nimport player from './player'\n\n\n// export default combineReducers({\n//   routing: routerReducer,\n//   // counter,\n//   player,\n//   host\n// }) \n\nexport default (history) => combineReducers({\n  router: connectRouter(history),\n   \n  // counter,\n  player,\n  gameplay,\n  host\n})\n\n// configureStore.js","\nconst initialState = {\n  roomCode: null,\n  players:[],\n  round: 0,\n  isInPlay: false,\n  responses: [],\n  coords: {x:0,y:0,z:0},\n  coords2: {x:0,y:0,z:0}\n}\n\nexport default (state = initialState, action) => {\n  // console.log('ACTION',action)\n  switch (action.type) {\n    case 'SET_ROOM_CODE':\n      return {\n        ...state,\n        roomCode: action.payload,\n      }\n    case 'SET_COORDS_1':\n      // console.log('setting coords')\n      return {\n        ...state,\n        coords: action.payload.coords,\n      }\n    case 'SET_COORDS_2':\n      // console.log('setting coords')\n      return {\n        ...state,\n        coords2: action.payload.coords,\n      }\n    case 'ADD_PLAYER':\n      let newPlayers = Object.assign([], state.players)\n      newPlayers.push(action.payload)\n      console.log('ADDING PLAYER', newPlayers)\n      // console.log(newPlayers)\n      return {\n        ...state,\n        players: newPlayers,\n      }\n    case 'START_ROUND_HOST':\n      return {\n        ...state,\n        responses: [],\n        isInPlay: true,\n        round: state.round + 1,\n      }\n    case 'SET_RESPONSES':\n      let responses = Object.assign([], state.responses).sort(function(obj1, obj2) {\n      // Ascending: first age less than the previous\n      return obj1.time - obj2.time;\n    });\n      responses.push(action.payload)\n      return {\n        ...state,\n        responses,\n      }\n    default:\n      return state\n  }\n}\n\n","\nconst initialState = {\n  gameIsStarted: false,\n  gameOver: false,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case 'START_GAME':\n      return {\n        ...state,\n        gameIsStarted: !state.gameIsStarted,\n      }\n    case 'SET_GAME_OVER':\n      return {\n        ...state,\n        gameOver: action.payload,\n      }\n    case 'NEW_GAME':\n      return {\n        ...state,\n        gameIsStarted: true,\n      }\n\n    default:\n      return state\n  }\n}\n\n","\nconst initialState = {\n  room: null,\n  playerNumber: null\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_PLAYER_ROOM':\n      return {\n        ...state,\n        room: action.payload,\n      }\n    case 'SET_PLAYER_NUMBER':\n      return {\n        ...state,\n        playerNumber: action.payload,\n      }\n    case 'SET_SELF':\n      return {\n        ...state,\n        self: action.payload,\n      }\n    default:\n      return state\n  }\n}\n\n","import { createBrowserHistory } from 'history'\nimport { applyMiddleware, compose, createStore } from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport createRootReducer from './reducers'\nimport thunk from 'redux-thunk'\n\n\nexport const history = createBrowserHistory()\n\nconst initialState = {}\nconst enhancers = []\nconst middleware = [\n  thunk,\n  routerMiddleware(history)\n]\n\nif (process.env.NODE_ENV === 'development') {\n  const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__\n  if (typeof devToolsExtension === 'function') {\n    enhancers.push(devToolsExtension())\n  }\n}\n\nconst composedEnhancers = compose(\n  applyMiddleware(...middleware),\n  ...enhancers\n)\n\n\n\nconst store = createStore(\n  createRootReducer(history), // root reducer with router state\n  initialState,\n  composedEnhancers\n)\n\nexport default store\n\n","import openSocket from 'socket.io-client';\n// const  socket = openSocket('172.23.150.208:9000');\nconst  socket = openSocket('https://bping.herokuapp.com');\n\nfunction subscribeToPlayerEvents(self, cb) {\n\tconsole.log('SUBSCRIBING TO PLAYER')\n\tsocket.on('success-joining-room', successJoiningRoom.bind(this, self))\n\tsocket.on('error-joining-room', errorJoiningRoom.bind(this))\n\tsocket.on('start-round', startRound.bind(this, self))\n\tsocket.on('start-game', gameStarted.bind(this, cb))\n\tsocket.on('room-full', roomFull.bind(this, self))\n\tsocket.on('host-quit', hostQuit.bind(this, self))\n\tsocket.on('restart-game', restartGame.bind(this, cb))\n\tsocket.on('game-over', gameOver.bind(this, cb))\n}\n\nfunction roomFull(self){\n\tself.props.push('full')\n}\n\nfunction hostQuit(self){\n\tself.props.push('not-found')\n}\n\nfunction gameOver(cb){\n\tcb('setGameOver', true)\n}\n\n\nfunction successJoiningRoom(self, data){\n\tconsole.log('success joining room', data)\n\t// self.props.push('player/waiting')\n\t// console.log(data)\n\tself.props.setPlayerRoom(data.result)\n\tself.props.setPlayerNumber(data.playerNumber)\n\t// window.localStorage.room = data\n}\nfunction errorJoiningRoom(){\n\tconsole.log('error joining room')\n}\n\nfunction startRound(self){\n\tconsole.log('starting round')\n\tself.props.push('player/buzzer')\n}\n\nfunction buzz(self){\n\tconsole.log('self', self.props)\n\tlet data = {\n\t\troom: self.props.room.long,\n\t\tplayer: self.props.self,\n\t\ttime: (new Date).getTime()\n\t}\n\temit('player-buzz', data)\n\tself.props.push('player/waiting')\n}\n\nfunction sendOrientation(coords, self){\n\tconsole.log(self)\n\tif (self.props.room){\n\t\tlet data = {\n\t\t\troom: self.props.room.long,\n\t\t\tcoords: coords\n\t\t}\n\t\temit('device-orientation', data)\n\t}\n}\n\nfunction restartGame(cb){\n\tcb('setGameOver', false)\n}\n\n\n// emit\nfunction startGameSocket(self){\n\tconsole.log('EMITTING start game')\n\tself.props.startGame()\n\temit('start-game', self.props.room.long)\n}\n\n// emit\nfunction quitGameSocket(self){\n\tconsole.log('EMITTING start game')\n\tself.props.startGame()\n\temit('quit-game-player', self.props.room.long)\n}\n\n\nfunction restartGameSocket(self){\n\tconsole.log('EMITTING restart game')\n\t// self.props.startGame()\n\tself.props.setGameOver(false)\n\n\temit('restart-game', self.props.room.long)\n}\n\n\nfunction gameStarted(cb){\n\tcb('startGame', false)\n}\n\nfunction joinRoom(data, self){\n\t// console.log('joining')\n\t// console.log(roomCode)\n\tdata.id = socket.id\n\tself.props.setSelf(data)\n\temit('player-join-room', data)\n}\n\nfunction emit(action, data){\n\t// data.room = window.localStorage.room\n\tsocket.emit(action, data)\n}\n\nexport { \n\trestartGameSocket,\n\tquitGameSocket,\n\tstartGameSocket,\n\tsendOrientation,\n\tsubscribeToPlayerEvents,\n\tjoinRoom,\n\tbuzz\n};","import openSocket from 'socket.io-client';\n// const  socket = openSocket('172.23.150.208:9000');\nconst  socket = openSocket('https://bping.herokuapp.com');\n\nfunction subscribeToHostEvents(self, cb) {\n\tconsole.log('SUBSCRIBING TO HOST')\n\tsocket.emit('host-connected');\n\tsocket.on('room-code-generated', roomCodeGenerated.bind(this, cb))\n  \tsocket.on('player-joined', playerJoined.bind(this, cb))\n  \t// socket.on('start-round', startRound.bind(this, self))\n  \tsocket.on('start-game', startGame.bind(this, cb))\n  \tsocket.on('player-responded', playerResponded.bind(this, self))\n  \tsocket.on('device-orientation-sending', gotCoords.bind(this, cb))\n  \tsocket.on('quit-game-player', quitGamePlayer.bind(this, cb))\n  \tsocket.on('restart-game', restartGame.bind(this, cb))\n}\n\nfunction gotCoords(cb, data){\n\tif (data.coords.playerNumber === 1){\n\t\tcb('setCoords1', data)\n\t} else {\n\t\tcb('setCoords2', data)\n\t}\n\t// console.log('receiving coords', data)\n\t// cb('setCoords1', data)\n}\n\nfunction restartGame(cb){\n\tcb('setGameOver', false)\n}\n\nfunction quitGamePlayer(){\n\twindow.location.reload()\n}\n\nfunction startGame(cb){\n\tconsole.log('receiving start gaem')\n\tcb('startGame')\n}\n\nfunction roomCodeGenerated(cb, data){\n\tconsole.log('setting roomcode', data)\n\tcb('setRoomCode', data)\n}\n\nfunction gameOver(self){\n\tself.props.setGameOver(true)\n\tsocket.emit('game-over')\n}\n\n// function startRound(self){\n// \tself.props.startRound()\n// }\n\nfunction playerJoined(cb, data){\n\tconsole.log('player joined', data)\n\tcb('addPlayer', data)\n\t// console.log('player joined', data)\n}\n\nfunction startRound(self, cb){\n\tsocket.emit('start-round');\n}\n\nfunction playerResponded(self, data){\n\tconsole.log('player response')\n\tself.props.setResponses(data)\n\n}\n\nexport { \n\tgameOver,\n\tsubscribeToHostEvents,\n\tstartRound\n};","export const setRoomCode = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'SET_ROOM_CODE',\n      payload\n    })\n  }\n}\n\n\nexport const setCoords1 = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'SET_COORDS_1',\n      payload\n    })\n  }\n}\nexport const setCoords2 = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'SET_COORDS_2',\n      payload\n    })\n  }\n}\n\nexport const setResponses = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'SET_RESPONSES',\n      payload\n    })\n  }\n}\n\nexport const addPlayer = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'ADD_PLAYER',\n      payload\n    })\n  }\n}\n\n\nexport const startRoundHost = (payload) => {\n\tconsole.log('start round host')\n  return dispatch => {\n    dispatch({\n      type: 'START_ROUND_HOST',\n      payload\n    })\n  }\n}","export const setPlayerRoom = (payload) => {\n  console.log('SETTING PLAYER ROOM')\n  return dispatch => {\n    dispatch({\n      type: 'SET_PLAYER_ROOM',\n      payload\n    })\n  }\n}\n\nexport const setPlayerNumber = (payload) => {\n  console.log('SETTING PLAYER Number')\n  return dispatch => {\n    dispatch({\n      type: 'SET_PLAYER_NUMBER',\n      payload\n    })\n  }\n}\n\n\nexport const setSelf = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'SET_SELF',\n      payload\n    })\n  }\n}\n","export const startGame = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'START_GAME',\n    })\n  }\n}\n\nexport const setGameOver = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'SET_GAME_OVER',\n      payload\n    })\n  }\n}\n\n\nexport const leaveGame = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'LEAVE_GAME',\n    })\n  }\n}\n\nexport const closeRoom = (payload) => {\n  return dispatch => {\n    dispatch({\n      type: 'CLOSE_ROOM',\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport { push } from 'react-router-redux'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport io from 'socket.io-client';\nimport {subscribeToPlayerEvents} from '../../sockets/player'\nimport {subscribeToHostEvents} from '../../sockets/host'\nimport { setRoomCode, addPlayer, startRoundHost, setResponses, setCoords1, setCoords2 } from '../../actions/host'\nimport { setPlayerRoom, setSelf, setPlayerNumber } from '../../actions/player'\nimport { startGame, setGameOver } from '../../actions/gameplay'\n\n\nclass SocketListener extends Component {\n  constructor(props){\n    super(props)\n  }\n\n  componentDidMount(){\n    // console.log('socket listener mounting')\n    if (this.props.isHost){\n      subscribeToHostEvents(this, (action, data) => {\n        this.props[action](data)\n      })\n    } else {\n     subscribeToPlayerEvents(this, (action, data) => {\n        this.props[action](data)\n     })\n   }\n  }\n\n  render(){\n    return(\n      <div>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  // count: state.counter.count\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  setRoomCode,\n  startGame,\n  setGameOver,\n  setPlayerNumber,\n  setResponses,\n  setCoords1,\n  setCoords2,\n  setSelf,\n  startRoundHost,\n  addPlayer,\n  setPlayerRoom,\n  push: (path) => push('/' + path)\n}, dispatch)\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SocketListener)","import React, { Component } from 'react'\nimport './style.scss'\n\nexport default class Canvas extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.maxScore = 7;\n\t\tthis.ctx = null;\n\t\tthis.hasStarted = false;\n\t\t//player\n\t\tthis.playerHeight = 120;\n\t\tthis.playerWidth = 7;\n\t\tthis.playerX = 20;\n\t\tthis.playerY = window.innerHeight / 2 - this.playerHeight / 2\n\t\t//player 2\n\t\tthis.player2X = window.innerWidth - this.playerX;\n\t\tthis.player2Y = window.innerHeight / 2 - this.playerHeight / 2\n\t\t//scores\n\t\tthis.player1Score = 0;\n\t\tthis.player2Score = 0;\n\t\t//ball\n\t\tthis.ballSize = 5;\n\t\tthis.ballX = window.innerWidth / 2;\n\t\tthis.ballY = window.innerHeight / 2 -100;\n\t\tthis.ballDirX = 1;\n\t\tthis.ballDirY = 1;\n\t\tthis.ballYSpeed = Math.random() < 0.5 ? 5 : -5\n\t\tthis.ballXSpeed = Math.random() < 0.5 ? 5 : -5\n\t\tthis.state = {\n\t\t\tplayer1Score: 0,\n\t\t\tplayer2Score: 0,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(np){\n\t\tif (this.props.numOfPlayers !== 2 && np.numOfPlayers === 2){\n\t\t\tthis.resetScores()\n\t\t\tthis.setup()\n\t\t}\n\t\tif (this.props.isGameOver && !np.isGameOver){\n\t\t\tthis.hasStarted = false;\n\t\t\tthis.playerY = window.innerHeight / 2 - this.playerHeight / 2\n\t\t\tthis.player2X = window.innerWidth - this.playerX;\n\t\t\tthis.player2Y = window.innerHeight / 2 - this.playerHeight / 2\n\t\t\tthis.ballX = window.innerWidth / 2;\n\t\t\tthis.ballY = window.innerHeight / 2 -100;\n\t\t\tthis.resetScores()\n\t\t}\n\t\tif (!this.props.isGameOver && np.isGameOver){\n\t\t\tthis.hasStarted = false;\n\t\t}\n\t\tif(this.props.height !== np.height || this.props.width !== np.width){\n\t\t\tthis.playerY = window.innerHeight / 2 - this.playerHeight / 2\n\t\t\tthis.player2X = window.innerWidth - this.playerX;\n\t\t\tthis.player2Y = window.innerHeight / 2 - this.playerHeight / 2\n\t\t\tthis.ballX = window.innerWidth / 2;\n\t\t\tthis.ballY = window.innerHeight / 2 -100;\n\t\t}\n\t}\n\n\n\tcomponentDidMount(){\n\t\tlet ctx = this.refs.canvas.getContext('2d')\n\t\tthis.ctx = ctx\n\t\tthis.loop()\n\t}\n\n\tresetScores(){\n\t\tthis.setState({\n\t\t\tplayer1Score: 0,\n\t\t\tplayer2Score: 0\n\t\t})\n\t}\n\n\tsetup(){\n\t\tthis.ballY = window.innerHeight / 2 - 100\n\t\tthis.ballX = window.innerWidth / 2\n\t\tthis.ballYSpeed = Math.random() < 0.5 ? 5 : -5\n\t\tthis.ballXSpeed = Math.random() < 0.5 ? 5 : -5\n\t}\n\n\tloop(){\n\t\t//clear things\n\t\tthis.ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\t\t//update things\n\t\tif (this.props.isPlaying && !this.props.isGameOver){\n\t\t\tthis.hasStarted = true\n\t\t\tthis.updateBall()\n\t\t\tif (this.props.is2Player) this.updatePlayer2()\n\t\t\tthis.updatePlayer()\n\n\t\t} else if (!this.props.isPlaying && !this.hasStarted){\n\t\t\tthis.updatePlayer2()\n\t\t\tthis.updatePlayer()\n\n\t\t}\n\t\t\n\t\t//check thinggs\n\t\tif (this.ballX <= this.playerX && this.ballX > this.playerX - this.playerWidth){\n\t\t\tthis.checkCollision()\n\t\t} else if (this.ballX + this.ballSize >= this.player2X && this.ballX < this.player2X + this.playerWidth){\n\t\t\tthis.checkPlayer2Collision()\n\t\t}\n\t\t//draw things\n\t\tthis.drawBoard()\n\t\tthis.drawPlayer()\n\t\tthis.drawBall()\n\t\t//loop things\n\t\twindow.requestAnimationFrame(this.loop.bind(this))\n\t}\n\n\tdrawBoard(){\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.setLineDash([15, 15]);\n\t\tthis.ctx.strokeStyle = '#555';\n\t\tthis.ctx.moveTo(window.innerWidth / 2, 0);\n\t\tthis.ctx.lineTo(window.innerWidth / 2, window.innerHeight);\n\t\tthis.ctx.stroke();\n\t}\n\n\tscore(player){\n\n\t}\n\n\tupdateBall(){\n\t\tthis.ballX = this.ballX + (this.ballXSpeed * this.ballDirX)\n\t\tthis.ballY = this.ballY + (this.ballYSpeed * this.ballDirY)\n\t\tif (this.ballX > window.innerWidth - this.ballSize ){\n\t\t\tif (this.props.is2Player){\n\t\t\t\tif (this.state.player1Score + 1 < this.maxScore){\n\t\t\t\t\tthis.setState({player1Score: this.state.player1Score + 1})\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({player1Score: this.state.player1Score + 1}, () => {\n\t\t\t\t\t\tthis.props.gameOver()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.setup()\n\t\t\t} else {\n\t\t\t\tthis.ballDirX *= -1\n\t\t\t}\n\t\t} else if (this.ballX < 0 && this.props.numOfPlayers > 0){\n\t\t\tif (this.props.is2Player){\n\t\t\t\tif (this.state.player2Score + 1 < this.maxScore){\n\t\t\t\t\tthis.setState({player2Score: this.state.player2Score + 1})\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({player2Score: this.state.player2Score + 1}, () => {\n\t\t\t\t\t\tthis.props.gameOver()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setup()\n\t\t} else if (this.ballX < 0){\n\t\t\tthis.ballDirX *= -1\n\t\t}\n\t\tif (this.ballY > window.innerHeight - this.ballSize || this.ballY <= 0){\n\t\t\tthis.ballDirY *= -1\n\t\t}\n\n\t}\n\n\tdrawBall(){\n\t\tfunction Circle(x, y, r) {\n\t\t    \"use strict\";\n\t\t    this.x = (x === null) ? 0 : x;\n\t\t    this.y = (y === null) ? 0 : y;\n\t\t    this.r = (r === null) ? 0 : r;\n\t\t    this.draw = function(ctx) {\n\t\t       ctx.beginPath();\n\t\t       ctx.arc(this.x, this.y, this.r, 0, Math.PI*2);\n\t\t       ctx.fillStyle = \"#f7f7f7\";\n\t\t       ctx.fill();\n\t\t    }\n\t\t}\n\t\tvar circ = new Circle(this.ballX, this.ballY, this.ballSize);\n\t\tcirc.draw(this.ctx);\n\t}\n\n\tupdatePlayer(){\n\t\tthis.playerY =  \n\t\t\t(this.playerY - this.props.yDir) > window.innerHeight - this.playerHeight ?\n\t\t\t\twindow.innerHeight - this.playerHeight : \n\t\t\t(this.playerY - this.props.yDir) <= 0 ?\n\t\t\t\t0 :\n\t\t\t\tthis.playerY - this.props.yDir\n\t}\n\tupdatePlayer2(){\n\t\tthis.player2Y =  \n\t\t\t(this.player2Y - this.props.yDir2) > window.innerHeight - this.playerHeight ?\n\t\t\t\twindow.innerHeight - this.playerHeight : \n\t\t\t(this.player2Y - this.props.yDir2) <= 0 ?\n\t\t\t\t0 :\n\t\t\t\tthis.player2Y - this.props.yDir2\n\t}\n\n\tdrawPlayer(){\n\t\tfunction Player(x, y, w, h) {\n\t\t    \"use strict\";\n\t\t    this.x = (x === null) ? 20 : x;\n\t\t    this.y = (y === null) ? 0 : y;\n\t\t    this.draw = function(ctx) {\n\t\t       ctx.rect(x,y,w,h);\n\t\t       ctx.fillStyle = \"#f7f7f7\";\n\t\t       ctx.fill();\n\t\t    }\n\t\t}\n\t\tvar player = new Player(this.playerX - this.playerWidth, this.playerY, this.playerWidth,this.playerHeight);\n\t\tplayer.draw(this.ctx);\n\t\tvar player2 = new Player(this.player2X - this.playerWidth, this.player2Y, this.playerWidth,this.playerHeight);\n\t\tplayer2.draw(this.ctx);\n\t\t\n\t}\n\n\tcheckCollision(){\n\t\tlet top = this.playerY\n\t\tlet bottom = this.playerY + this.playerHeight\n\t\tif (this.ballY > top && this.ballY < bottom){\n\t\t\tthis.ballDirX *= -1\n\t\t\t//handles ballXSpeed\n\t\t\tif (this.ballDirX < 0){\n\t\t\t\tthis.ballXSpeed -= 1\n\t\t\t} else{\n\t\t\t\tthis.ballXSpeed += 1\n\t\t\t}\n\t\t\t//handles ballYSpeed\n\t\t\tif (this.playerY !== 0 && this.playerY !== window.innerHeight){\n\t\t\t\tthis.ballYSpeed -= this.props.yDir / 3\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckPlayer2Collision(){\n\t\tlet top2 = this.player2Y\n\t\t// let firstBreak2 = this.player2Y + this.playerHeight /5\n\t\tlet bottom2 = this.player2Y + this.playerHeight\n\t\t// let secondBreak2 = bottom2 - this.playerHeight /5\n\t\tif (this.ballY > top2 && this.ballY < bottom2){\n\t\t\tthis.ballDirX *= -1\n\t\t\tif (this.player2Y !== 0 && this.player2Y !== window.innerHeight){\n\t\t\t\tthis.ballYSpeed -= this.props.yDir2 / 3\n\t\t\t}\n\t\t\t\n\t\t}\t\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<canvas ref=\"canvas\" id=\"canvas\" height={this.props.height} width={this.props.width}>\n\t\t\t\t</canvas>\n\t\t\t<div className=\"scores\">\n\t\t\t\t{this.props.numOfPlayers > 1 &&\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<p>{this.state.player1Score}</p>\n\t\t\t\t\t<p>-</p>\n\t\t\t\t\t<p>{this.state.player2Score}</p>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\n\t\t)\n\t}\n}","import React, { Component } from 'react'\nimport { push } from 'connected-react-router'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport './style.scss'\nimport SocketListener from '../SocketListener'\nimport Canvas from 'components/canvas'\nimport { gameOver } from 'sockets/host'\nimport { setGameOver } from 'actions/gameplay'\nclass Home extends Component {\n\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.timeouts = []\n\t\tthis.speed = 1\n\t\tthis.state = {\n\t\t\theight: window.innerHeight,\n\t\t\twidth:window.innerWidth,\n\t\t\tyDir: 0,\n\t\t\tyDir2: 0,\n\t\t\tis2Player: false,\n\t\t\tcountdown: false,\n\t\t\tisPlaying: false,\n\t\t\tcountdownNumber: '3',\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\twindow.addEventListener(\"resize\", () => {\n\t\t\tthis.setState({height:window.innerHeight, width: window.innerWidth})\n\t\t});\n\t}\n\n\tcomponentWillReceiveProps(np){\n\t\tif (this.state.yDir !== np.coords.y){\n\t\t\t// console.warn('new dirs player 1', np.coords)\n\t\t\tthis.setState({yDir:np.coords.y})\n\t\t}\n\t\tif (this.state.yDir2 !== np.coords2.y){\n\t\t\t// console.warn('new dirs player 2', np.coords)\n\t\t\tthis.setState({yDir2:np.coords2.y, is2Player:true})\n\t\t}\n\t\tif (!this.props.gameIsStarted && np.gameIsStarted){\n\t\t\tthis.startGame()\n\t\t} else if (this.props.gameIsStarted && !np.gameIsStarted){\n\n\t\t\tfor (var i = 0; i < this.timeouts.length; i++){\n\t\t\t\tclearTimeout(this.timeouts[i])\n\t\t\t}\n\t\t\tthis.setState({isPlaying: false, countdown: false, countdownNumber: '3'})\n\t\t}\n\t}\n\n\tstartGame(){\n\t\tfor (var i = 0; i < this.timeouts.length; i++){\n\t\t\tclearTimeout(this.timeouts[i])\n\t\t}\n\t\tthis.countdown('3', 0, true, 0)\n\t\tthis.countdown('2', 1000, true, 1)\n\t\tthis.countdown('1', 2000, true, 2)\n\t\tthis.countdown('3', 3000, false, 3)\n\t}\n\n\tcountdown(n, delay, show, timeoutIndex){\n\t\tthis.timeouts[timeoutIndex] = setTimeout(() => {\n\t\t\tthis.setState({countdownNumber: n, countdown: show, isPlaying: !show})\n\t\t},delay)\n\t}\n\n\tgameOver(){\n\t\tgameOver(this)\n\t\t//send game over message\n\t}\n\n\trender(){\n\t\tconst online = true\n\t\tlet uri = false;\n\t\tif (this.props.roomCode){\n\t\t\turi = online ? 'https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=' +  encodeURIComponent('http://www.pingp.co/m/' + this.props.roomCode.toLowerCase()) :  \n\t\t\t'https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=http://172.23.150.208:3000/m/' + this.props.roomCode.toLowerCase()\n\t\t} \n\t\t// console.log(uri)\n\t\t// console.log('numOfPlayers', this.props.players.length)\n\t\treturn(\n\t\t\t<div className=\"home\">\n\t\t\t\t<SocketListener isHost/>\n\t\t\t\t<Canvas \n\t\t\t\t\theight={this.state.height}\n\t\t\t\t\twidth={this.state.width}\n\t\t\t\t\tisGameOver={this.props.gameOver}\n\t\t\t\t\tgameOver={this.gameOver.bind(this)}\n\t\t\t\t\tisPlaying={this.props.gameIsStarted}\n\t\t\t\t\tisPlaying={this.state.isPlaying}\n\t\t\t\t\tyDir={this.state.yDir}\n\t\t\t\t\tyDir2={this.state.yDir2}\n\t\t\t\t\tis2Player={this.state.is2Player}\n\t\t\t\t\tnumOfPlayers={this.props.players.length}/>\n\t\t\t\t\t<div className=\"code\">\n\t\t\t\t\t<div className=\"headerContainer\">\n\t\t\t\t\t{uri && !this.props.gameIsStarted && this.props.players.length < 2 &&\n\t\t\t\t\t\t<img className=\"qr\" src={uri} />\n\t\t\t\t\t}\n\t\t\t\t\t{!this.props.gameIsStarted && this.props.players.length >= 2 &&\n\t\t\t\t\t\t<h4 className=\"qr\">Someone Press play!</h4>\n\t\t\t\t\t}\n\t\t\t\t\t{!this.props.gameIsStarted && this.props.players.length < 2 &&\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p className=\"players\">2 players, your phones are the controllers.</p>\n\t\t\t\t\t\t\t<p>Scan the QR code or go to:</p>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<p><span className=\"instructions\">www.pingp.co/m/{this.props.roomCode ? this.props.roomCode.toLowerCase() : ''}</span></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{this.state.countdown &&\n\t\t\t\t\t\t<h1 className=\"qr\">{this.state.countdownNumber}</h1>\n\t\t\t\t\t}\n\t\t\t\t\t{this.props.gameOver &&\n\t\t\t\t\t\t<h1 className=\"qr\">Game over</h1>\n\t\t\t\t\t}\n\t\t\t\t\t{this.props.gameIsStarted && this.props.players.length < 2 &&\n\t\t\t\t\t\t<p className=\"help\">Pause game to add another player</p>\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t{this.state.height < 500 || this.state.width < 800 &&\n\t\t\t\t\t<div className=\"tooSmall\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p className=\"players\">Your screen is too small to host a game.<br/><br/> Try on a laptop or desktop</p>\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tgameIsStarted: state.gameplay.gameIsStarted,\n\troomCode: state.host.roomCode,\n\tcoords: state.host.coords,\n\tcoords2: state.host.coords2,\n\tplayers: state.host.players,\n\tgameOver: state.gameplay.gameOver,\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  push: (path) => push(path),\n  setGameOver,\n}, dispatch)\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Home)","import React, { Component } from 'react'\nimport { push } from 'connected-react-router'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport './style.scss'\nimport SocketListener from '../SocketListener'\nimport { joinRoom, sendOrientation, startGameSocket, quitGameSocket, restartGameSocket } from '../../sockets/player'\nimport { setSelf  } from '../../actions/player'\nimport { startGame } from '../../actions/gameplay'\n\nclass Mobile extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\txDir: 0,\n\t\t\tyDir: 0,\n\t\t}\n\t}\n\n\tcomponentWillMount(){\n\t\tlet code = window.location.pathname.split('/')[2]\n\t\tif (code){\n\t\t\tlet obj = {\n\t\t      name: '',\n\t\t      room: code.toUpperCase()\n\t\t    }\n\t\t    joinRoom(obj, this)\n\t\t}\n\n\t}\n\n\tcomponentWillReceiveProps(np){\n\t\tif (!np.playerNumber && this.props.playerNumber){\n\t\t\tthis.props.push('not-found')\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t// if (this.props.playerNumber === null){\n\t// \t\tthis.props.push('/not-found')\n\t// \t}\t\n\t\twindow.addEventListener('deviceorientation', (orientation) => {\n\t\t\tlet y = this.findLimit(orientation.beta)\n\t\t\t\n\t\t\tif (y !== this.state.yDir){\t\t\t\t\n\t\t\t\tlet dirs = {\n\t\t\t\t\ty: y,\n\t\t\t\t\tplayerNumber: this.props.playerNumber\n\t\t\t\t}\n\t\t\t\tconsole.log('sending oritentation', y)\n\t\t\t\tsendOrientation(dirs, this)\n\t\t\t\tthis.setState({yDir: y})\n\t\t\t}\n\t\t})\n\t}\n\n\tfindLimit(coord){\n\t\tif (coord < -47.5) return -21\n\t\telse if (coord < -42.5) return -19\n\t\telse if (coord < -37.5) return -16\n\t\telse if (coord < -32.5) return -13\n\t\telse if (coord < -27.5) return -10\n\t\telse if (coord < -22.5) return -8\n\t\telse if (coord < -17.5) return -6\n\t\telse if (coord < -12.5) return -4\n\t\telse if (coord < -7.5) return -2\n\t\telse if (coord < -2.5) return -1\n\t\telse if (coord < 2.5) return 0\n\t\telse if (coord < 7.5) return 1\n\t\telse if (coord < 12.5) return 2\n\t\telse if (coord < 17.5 ) return 4\n\t\telse if (coord < 22.5 ) return 6\n\t\telse if (coord < 27.5 ) return 8\n\t\telse if (coord < 32.5 ) return 10\n\t\telse if (coord < 37.5 ) return 13\n\t\telse if (coord < 42.5 ) return 16\n\t\telse if (coord < 47.5 ) return 19\n\t\telse return 21\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"mobile\">\n\t\t\t\t<SocketListener />\n\t\t\t\t{!this.props.gameOver &&\n\t\t\t\t\t<div className=\"mobileInstructions\">\n\t\t\t\t\t\t<h3>Player {JSON.stringify(this.props.playerNumber)}</h3>\n\t\t\t\t\t\t<p >Tilt phone to control paddle</p>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{this.props.gameOver &&\n\t\t\t\t\t<div className=\"mobileInstructions\">\n\t\t\t\t\t\t<h3>Game over</h3>\n\t\t\t\t\t\t<p >Restart or quit game</p>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div className=\"quitButtonMobile\" onClick={quitGameSocket.bind(this, this)} >\n\t\t\t\t\t<h6>Quit game</h6>\n\t\t\t\t</div>\n\t\t\t\t{!this.props.gameIsStarted && !this.props.gameOver &&\n \t\t\t\t\t<div className=\"buttonMobile\" onClick={startGameSocket.bind(this, this)} >\n\t\t\t\t\t\t<h6>Play</h6>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{this.props.gameIsStarted && !this.props.gameOver &&\n\t\t\t\t\t<div className=\"buttonMobile\" onClick={startGameSocket.bind(this, this)} >\n\t\t\t\t\t\t<h6>Pause</h6>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{this.props.gameOver &&\n\t\t\t\t\t<div className=\"buttonMobile\" onClick={restartGameSocket.bind(this, this)} >\n\t\t\t\t\t\t<h6>Restart game</h6>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t\t\t\n\t\t\t\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tgameIsStarted: state.gameplay.gameIsStarted,\n\trouter: state.router,\n\troom: state.player.room,\n\tplayerNumber: state.player.playerNumber,\n\tgameOver: state.gameplay.gameOver,\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  push: (path) => push(path),\n  setSelf,\n  startGame,\n}, dispatch)\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Mobile)","import React, { Component } from 'react'\nimport './style.scss'\n\nexport default class RoomFull extends Component {\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"roomFull\">\n\t\t\t\t<h3>Uh oh</h3>\n\t\t\t\t<p>This game is full :(</p>\n\t\t\t</div>\n\t\t)\n\t}\t\n}","import React, { Component } from 'react'\nimport './style.scss'\n\nexport default class RoomFull extends Component {\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"roomNotFound\">\n\t\t\t\t<h3>The game is over!</h3>\n\t\t\t\t<p>Scan the QR code to start again</p>\n\t\t\t</div>\n\t\t)\n\t}\t\n}","import React from 'react';\nimport { Route, Switch } from 'react-router'\nimport Home from './containers/Home'\nimport Mobile from './containers/Mobile'\nimport RoomFull from './containers/RooomFull'\nimport RoomNotFound from './containers/RoomNotFound'\n\n\nconst Routes = () => (\n  <div>\n    <main>\n     \n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/m/:code\" component={Mobile} />\n        <Route exact path=\"/full\" component={RoomFull} />\n        <Route exact path=\"/not-found\" component={RoomNotFound} />\n     \n    </main>\n  </div>\n)\n\nexport default Routes;","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { ConnectedRouter } from 'connected-react-router'\nimport store, { history } from './store'\nimport Routes from './Routes'\n\nimport './index.scss'\n\nrender(\n    <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <React.Fragment>\n        \n        <Routes/>\n      </React.Fragment>\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}