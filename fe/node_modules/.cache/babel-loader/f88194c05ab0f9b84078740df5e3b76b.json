{"ast":null,"code":"import _defineProperty from \"/Users/bobby.hewitt/Documents/test/ops/fe/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/bobby.hewitt/Documents/test/ops/fe/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bobby.hewitt/Documents/test/ops/fe/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bobby.hewitt/Documents/test/ops/fe/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bobby.hewitt/Documents/test/ops/fe/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bobby.hewitt/Documents/test/ops/fe/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/bobby.hewitt/Documents/test/ops/fe/src/containers/Mobile/index.js\";\nimport React, { Component } from 'react';\nimport { push as _push } from 'connected-react-router';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport './style.scss';\nimport SocketListener from '../SocketListener';\nimport { joinRoom, sendOrientation, startGameSocket, quitGameSocket, restartGameSocket, powerUpUsedSocket } from '../../sockets/player';\nimport { setSelf, powerUpUsed } from '../../actions/player';\nimport { startGame, setGameOver } from '../../actions/gameplay';\nimport ReactGA from 'react-ga';\n\nvar Mobile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Mobile, _Component);\n\n  function Mobile(props) {\n    var _this;\n\n    _classCallCheck(this, Mobile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Mobile).call(this, props));\n    _this.state = {\n      xDir: 0,\n      yDir: 0,\n      dir: 'equal',\n      visualSpeed: 0\n    };\n    _this.speeds = ['-6', '-5', '-4', '-3', '-2', '-1', '0', '1', '2', '3', '4', '5', '6'];\n    return _this;\n  }\n\n  _createClass(Mobile, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.initialiseAnalytics();\n      var code = window.location.pathname.split('/')[2];\n\n      if (code) {\n        var obj = {\n          name: '',\n          room: code.toUpperCase()\n        };\n        joinRoom(obj, this);\n      }\n    }\n  }, {\n    key: \"initialiseAnalytics\",\n    value: function initialiseAnalytics() {\n      ReactGA.initialize('UA-135889592-1');\n      ReactGA.pageview('/player');\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(np) {\n      if (!np.playerNumber && this.props.playerNumber) {\n        this.props.push('not-found');\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener('deviceorientation', function (orientation) {\n        var _this2$findLimit = _this2.findLimit(orientation.beta),\n            y = _this2$findLimit.y,\n            dir = _this2$findLimit.dir,\n            visualSpeed = _this2$findLimit.visualSpeed; // let x = this.findLimit(orientation.gamma)\n\n\n        if (y !== _this2.state.yDir) {\n          var dirs = {\n            y: y,\n            playerNumber: _this2.props.playerNumber\n          };\n          sendOrientation(dirs, _this2);\n\n          _this2.setState({\n            yDir: y,\n            visualSpeed: visualSpeed,\n            dir: dir\n          });\n        }\n      });\n    }\n  }, {\n    key: \"findLimit\",\n    value: function findLimit(coord) {\n      var _ref;\n\n      // if (coord < -27.5 + 45) return {y: -20, dir: 'down', visualSpeed: 5}\n      if (coord < -35 + 45) return {\n        y: -12,\n        dir: 'down',\n        visualSpeed: 4\n      };else if (coord < -25 + 45) return {\n        y: -9,\n        dir: 'down',\n        visualSpeed: 3\n      };else if (coord < -15 + 45) return {\n        y: -6,\n        dir: 'down',\n        visualSpeed: 2\n      };else if (coord < -5 + 45) return {\n        y: -3,\n        dir: 'down',\n        visualSpeed: 1\n      };else if (coord < 5 + 45) return {\n        y: 0,\n        dir: 'equal',\n        visualSpeed: 0\n      };else if (coord < 15 + 45) return {\n        y: 3,\n        dir: 'up',\n        visualSpeed: 1\n      };else if (coord < 25 + 45) return {\n        y: 6,\n        dir: 'up',\n        visualSpeed: 2\n      };else if (coord < 35 + 45) return {\n        y: 9,\n        dir: 'up',\n        visualSpeed: 3 // else if (coord < 45 + 45) return {y: 16, dir: 'up', visualSpeed: 4}\n\n      };else return _ref = {\n        y: 12,\n        dir: '+'\n      }, _defineProperty(_ref, \"dir\", 'up'), _defineProperty(_ref, \"visualSpeed\", 4), _ref;\n    }\n  }, {\n    key: \"usePowerUp\",\n    value: function usePowerUp() {\n      var obj = {\n        room: this.props.room,\n        playerNumber: this.props.playerNumber,\n        powerUp: this.props.powerUp\n      };\n      powerUpUsedSocket(obj, this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"mobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(SocketListener, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"gamePadContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gamePad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"instructionsMobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Tilt phone to control paddle\"), this.props.gameOver && React.createElement(\"p\", {\n        className: \"playerResult\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.props.winner.indexOf(this.props.playerNumber) > -1 ? 'You win' : 'You lose'), React.createElement(\"div\", {\n        className: \"speedContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, this.state.dir === 'up' && Array.apply(null, {\n        length: this.state.visualSpeed\n      }).map(function (e, i) {\n        return React.createElement(\"div\", {\n          key: i,\n          className: \" fontawesome chevronUp\",\n          style: {},\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        });\n      }), this.state.dir === 'down' && Array.apply(null, {\n        length: this.state.visualSpeed\n      }).map(function (e, i) {\n        return React.createElement(\"div\", {\n          key: i,\n          className: \" fontawesome chevronDown\",\n          style: {},\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        });\n      }), this.state.dir === 'equal' && React.createElement(\"div\", {\n        className: \"equal fontawesome \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"buttonSetMobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pausePlay buttonMobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, !this.props.gameIsStarted && !this.props.gameOver && React.createElement(\"img\", {\n        src: require('assets/images/playBlack.png'),\n        className: \"play\",\n        onClick: startGameSocket.bind(this, this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), this.props.gameIsStarted && !this.props.gameOver && React.createElement(\"img\", {\n        src: require('assets/images/pauseBlack.png'),\n        onClick: startGameSocket.bind(this, this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), this.props.gameOver && React.createElement(\"img\", {\n        src: require('assets/images/playBlack.png'),\n        className: \"play\",\n        onClick: restartGameSocket.bind(this, this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), !this.props.gameOver && React.createElement(\"p\", {\n        className: \"headerMobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Player\", JSON.stringify(this.props.playerNumber) === 'null' ? 0 : JSON.stringify(this.props.playerNumber), \" \"), this.props.gameOver && React.createElement(\"p\", {\n        className: \"headerMobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Player\", JSON.stringify(this.props.playerNumber) === 'null' ? 0 : JSON.stringify(this.props.playerNumber), \" \"), React.createElement(\"div\", {\n        className: \"buttonMobile warning quit\",\n        onClick: quitGameSocket.bind(this, this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Quit\")))));\n    }\n  }]);\n\n  return Mobile;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    gameIsStarted: state.gameplay.gameIsStarted,\n    router: state.router,\n    room: state.player.room,\n    playerNumber: state.player.playerNumber,\n    gameOver: state.gameplay.gameOver,\n    winner: state.gameplay.winner,\n    powerUp: state.player.powerUp\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    push: function push(path) {\n      return _push(path);\n    },\n    setSelf: setSelf,\n    setGameOver: setGameOver,\n    powerUpUsed: powerUpUsed,\n    startGame: startGame\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Mobile);","map":{"version":3,"sources":["/Users/bobby.hewitt/Documents/test/ops/fe/src/containers/Mobile/index.js"],"names":["React","Component","push","bindActionCreators","connect","SocketListener","joinRoom","sendOrientation","startGameSocket","quitGameSocket","restartGameSocket","powerUpUsedSocket","setSelf","powerUpUsed","startGame","setGameOver","ReactGA","Mobile","props","state","xDir","yDir","dir","visualSpeed","speeds","initialiseAnalytics","code","window","location","pathname","split","obj","name","room","toUpperCase","initialize","pageview","np","playerNumber","addEventListener","orientation","findLimit","beta","y","dirs","setState","coord","powerUp","gameOver","winner","indexOf","Array","apply","length","map","e","i","gameIsStarted","require","bind","JSON","stringify","mapStateToProps","gameplay","router","player","mapDispatchToProps","dispatch","path"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAI,IAAJA,KAAT,QAAqB,wBAArB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,cAAP;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,SAASC,QAAT,EAAmBC,eAAnB,EAAoCC,eAApC,EAAqDC,cAArD,EAAqEC,iBAArE,EAAwFC,iBAAxF,QAAiH,sBAAjH;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAsC,sBAAtC;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,wBAAvC;AACA,OAAOC,OAAP,MAAoB,UAApB;;IAEMC,M;;;;;AAEL,kBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAE,CADM;AAEZC,MAAAA,IAAI,EAAE,CAFM;AAGZC,MAAAA,GAAG,EAAE,OAHO;AAIZC,MAAAA,WAAW,EAAE;AAJD,KAAb;AAMA,UAAKC,MAAL,GAAc,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAqB,IAArB,EAA0B,IAA1B,EAA+B,GAA/B,EAAmC,GAAnC,EAAuC,GAAvC,EAA2C,GAA3C,EAA+C,GAA/C,EAAmD,GAAnD,EAAuD,GAAvD,CAAd;AARiB;AASjB;;;;yCAEmB;AACnB,WAAKC,mBAAL;AACA,UAAIC,IAAI,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAX;;AACA,UAAIJ,IAAJ,EAAS;AAER,YAAIK,GAAG,GAAG;AACLC,UAAAA,IAAI,EAAE,EADD;AAELC,UAAAA,IAAI,EAAEP,IAAI,CAACQ,WAAL;AAFD,SAAV;AAIG5B,QAAAA,QAAQ,CAACyB,GAAD,EAAM,IAAN,CAAR;AACH;AACD;;;0CAEoB;AACnBf,MAAAA,OAAO,CAACmB,UAAR,CAAmB,gBAAnB;AACDnB,MAAAA,OAAO,CAACoB,QAAR,CAAiB,SAAjB;AACA;;;8CAEyBC,E,EAAG;AAC5B,UAAI,CAACA,EAAE,CAACC,YAAJ,IAAoB,KAAKpB,KAAL,CAAWoB,YAAnC,EAAgD;AAC/C,aAAKpB,KAAL,CAAWhB,IAAX,CAAgB,WAAhB;AACA;AAED;;;wCAEkB;AAAA;;AAClByB,MAAAA,MAAM,CAACY,gBAAP,CAAwB,mBAAxB,EAA6C,UAACC,WAAD,EAAiB;AAAA,+BAChC,MAAI,CAACC,SAAL,CAAeD,WAAW,CAACE,IAA3B,CADgC;AAAA,YACxDC,CADwD,oBACxDA,CADwD;AAAA,YACrDrB,GADqD,oBACrDA,GADqD;AAAA,YAChDC,WADgD,oBAChDA,WADgD,EAE7D;;;AAEA,YAAIoB,CAAC,KAAK,MAAI,CAACxB,KAAL,CAAWE,IAArB,EAA0B;AACzB,cAAIuB,IAAI,GAAG;AACVD,YAAAA,CAAC,EAAEA,CADO;AAEVL,YAAAA,YAAY,EAAE,MAAI,CAACpB,KAAL,CAAWoB;AAFf,WAAX;AAIA/B,UAAAA,eAAe,CAACqC,IAAD,EAAO,MAAP,CAAf;;AACA,UAAA,MAAI,CAACC,QAAL,CAAc;AAACxB,YAAAA,IAAI,EAAEsB,CAAP;AAAUpB,YAAAA,WAAW,EAAXA,WAAV;AAAuBD,YAAAA,GAAG,EAAHA;AAAvB,WAAd;AACA;AACD,OAZD;AAaA;;;8BAESwB,K,EAAM;AAAA;;AACf;AACA,UAAIA,KAAK,GAAG,CAAC,EAAD,GAAM,EAAlB,EAAsB,OAAO;AAACH,QAAAA,CAAC,EAAE,CAAC,EAAL;AAASrB,QAAAA,GAAG,EAAE,MAAd;AAAsBC,QAAAA,WAAW,EAAE;AAAnC,OAAP,CAAtB,KACK,IAAIuB,KAAK,GAAG,CAAC,EAAD,GAAM,EAAlB,EAAsB,OAAO;AAACH,QAAAA,CAAC,EAAE,CAAC,CAAL;AAAQrB,QAAAA,GAAG,EAAE,MAAb;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAP,CAAtB,KACA,IAAIuB,KAAK,GAAG,CAAC,EAAD,GAAM,EAAlB,EAAsB,OAAO;AAACH,QAAAA,CAAC,EAAE,CAAC,CAAL;AAAQrB,QAAAA,GAAG,EAAE,MAAb;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAP,CAAtB,KACA,IAAIuB,KAAK,GAAG,CAAC,CAAD,GAAK,EAAjB,EAAqB,OAAO;AAACH,QAAAA,CAAC,EAAE,CAAC,CAAL;AAAQrB,QAAAA,GAAG,EAAE,MAAb;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAP,CAArB,KACA,IAAIuB,KAAK,GAAG,IAAI,EAAhB,EAAoB,OAAO;AAACH,QAAAA,CAAC,EAAE,CAAJ;AAAOrB,QAAAA,GAAG,EAAE,OAAZ;AAAqBC,QAAAA,WAAW,EAAE;AAAlC,OAAP,CAApB,KACA,IAAIuB,KAAK,GAAG,KAAK,EAAjB,EAAqB,OAAO;AAACH,QAAAA,CAAC,EAAE,CAAJ;AAAOrB,QAAAA,GAAG,EAAE,IAAZ;AAAkBC,QAAAA,WAAW,EAAE;AAA/B,OAAP,CAArB,KACA,IAAIuB,KAAK,GAAG,KAAK,EAAjB,EAAqB,OAAO;AAACH,QAAAA,CAAC,EAAE,CAAJ;AAAOrB,QAAAA,GAAG,EAAE,IAAZ;AAAkBC,QAAAA,WAAW,EAAE;AAA/B,OAAP,CAArB,KACA,IAAIuB,KAAK,GAAG,KAAK,EAAjB,EAAqB,OAAO;AAACH,QAAAA,CAAC,EAAE,CAAJ;AAAOrB,QAAAA,GAAG,EAAE,IAAZ;AAAkBC,QAAAA,WAAW,EAAE,CAA/B,CACjC;;AADiC,OAAP,CAArB,KAEA;AAAQoB,QAAAA,CAAC,EAAE,EAAX;AAAerB,QAAAA,GAAG,EAAE;AAApB,sCAA8B,IAA9B,wCAAiD,CAAjD;AACL;;;iCAEW;AACX,UAAIS,GAAG,GAAG;AACTE,QAAAA,IAAI,EAAE,KAAKf,KAAL,CAAWe,IADR;AAETK,QAAAA,YAAY,EAAE,KAAKpB,KAAL,CAAWoB,YAFhB;AAGTS,QAAAA,OAAO,EAAE,KAAK7B,KAAL,CAAW6B;AAHX,OAAV;AAMApC,MAAAA,iBAAiB,CAACoB,GAAD,EAAM,IAAN,CAAjB;AACA;;;6BAEO;AACP,aACC;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAG,QAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADD,EAEE,KAAKb,KAAL,CAAW8B,QAAX,IACA;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6B,KAAK9B,KAAL,CAAW+B,MAAX,CAAkBC,OAAlB,CAA0B,KAAKhC,KAAL,CAAWoB,YAArC,IAAqD,CAAC,CAAtD,GAA0D,SAA1D,GAAsE,UAAnG,CAHF,EAMC;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,KAAKnB,KAAL,CAAWG,GAAX,KAAmB,IAAnB,IAA2B6B,KAAK,CAACC,KAAN,CAAY,IAAZ,EAAkB;AAAEC,QAAAA,MAAM,EAAE,KAAKlC,KAAL,CAAWI;AAArB,OAAlB,EAAsD+B,GAAtD,CAA0D,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAC/F,eACC;AAAK,UAAA,GAAG,EAAEA,CAAV;AAAa,UAAA,SAAS,EAAC,wBAAvB;AAAgD,UAAA,KAAK,EAAE,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAGA,OAJ2B,CAD7B,EAME,KAAKrC,KAAL,CAAWG,GAAX,KAAmB,MAAnB,IAA6B6B,KAAK,CAACC,KAAN,CAAY,IAAZ,EAAkB;AAAEC,QAAAA,MAAM,EAAE,KAAKlC,KAAL,CAAWI;AAArB,OAAlB,EAAsD+B,GAAtD,CAA0D,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACjG,eACC;AAAK,UAAA,GAAG,EAAEA,CAAV;AAAa,UAAA,SAAS,EAAC,0BAAvB;AAAkD,UAAA,KAAK,EAAE,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAGA,OAJ6B,CAN/B,EAWE,KAAKrC,KAAL,CAAWG,GAAX,KAAmB,OAAnB,IAA8B;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXhC,CAND,CADF,CAFD,EAyBC;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,CAAC,KAAKJ,KAAL,CAAWuC,aAAZ,IAA6B,CAAC,KAAKvC,KAAL,CAAW8B,QAAzC,IACA;AAAK,QAAA,GAAG,EAAEU,OAAO,CAAC,6BAAD,CAAjB;AAAkD,QAAA,SAAS,EAAC,MAA5D;AAAmE,QAAA,OAAO,EAAElD,eAAe,CAACmD,IAAhB,CAAqB,IAArB,EAA2B,IAA3B,CAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAIE,KAAKzC,KAAL,CAAWuC,aAAX,IAA4B,CAAC,KAAKvC,KAAL,CAAW8B,QAAxC,IACA;AAAK,QAAA,GAAG,EAAEU,OAAO,CAAC,8BAAD,CAAjB;AAAmD,QAAA,OAAO,EAAElD,eAAe,CAACmD,IAAhB,CAAqB,IAArB,EAA2B,IAA3B,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAOE,KAAKzC,KAAL,CAAW8B,QAAX,IACA;AAAK,QAAA,GAAG,EAAEU,OAAO,CAAC,6BAAD,CAAjB;AAAkD,QAAA,SAAS,EAAC,MAA5D;AAAmE,QAAA,OAAO,EAAEhD,iBAAiB,CAACiD,IAAlB,CAAuB,IAAvB,EAA6B,IAA7B,CAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,CADD,EAYE,CAAC,KAAKzC,KAAL,CAAW8B,QAAZ,IACA;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAmCY,IAAI,CAACC,SAAL,CAAe,KAAK3C,KAAL,CAAWoB,YAA1B,MAA4C,MAA5C,GAAqD,CAArD,GAAyDsB,IAAI,CAACC,SAAL,CAAe,KAAK3C,KAAL,CAAWoB,YAA1B,CAA5F,MAbF,EAeE,KAAKpB,KAAL,CAAW8B,QAAX,IACA;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAmCY,IAAI,CAACC,SAAL,CAAe,KAAK3C,KAAL,CAAWoB,YAA1B,MAA4C,MAA5C,GAAqD,CAArD,GAAyDsB,IAAI,CAACC,SAAL,CAAe,KAAK3C,KAAL,CAAWoB,YAA1B,CAA5F,MAhBF,EAkBC;AAAK,QAAA,SAAS,EAAC,2BAAf;AAA2C,QAAA,OAAO,EAAE7B,cAAc,CAACkD,IAAf,CAAoB,IAApB,EAA0B,IAA1B,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,CAlBD,CADD,CAzBD,CADD;AAoDA;;;;EAnImB1D,S;;AAsIrB,IAAM6D,eAAe,GAAG,SAAlBA,eAAkB,CAAA3C,KAAK;AAAA,SAAK;AACjCsC,IAAAA,aAAa,EAAEtC,KAAK,CAAC4C,QAAN,CAAeN,aADG;AAEjCO,IAAAA,MAAM,EAAE7C,KAAK,CAAC6C,MAFmB;AAGjC/B,IAAAA,IAAI,EAAEd,KAAK,CAAC8C,MAAN,CAAahC,IAHc;AAIjCK,IAAAA,YAAY,EAAEnB,KAAK,CAAC8C,MAAN,CAAa3B,YAJM;AAKjCU,IAAAA,QAAQ,EAAE7B,KAAK,CAAC4C,QAAN,CAAef,QALQ;AAMjCC,IAAAA,MAAM,EAAE9B,KAAK,CAAC4C,QAAN,CAAed,MANU;AAOjCF,IAAAA,OAAO,EAAE5B,KAAK,CAAC8C,MAAN,CAAalB;AAPW,GAAL;AAAA,CAA7B;;AAUA,IAAMmB,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAIhE,kBAAkB,CAAC;AACxDD,IAAAA,IAAI,EAAE,cAACkE,IAAD;AAAA,aAAUlE,KAAI,CAACkE,IAAD,CAAd;AAAA,KADkD;AAExDxD,IAAAA,OAAO,EAAPA,OAFwD;AAGxDG,IAAAA,WAAW,EAAXA,WAHwD;AAIxDF,IAAAA,WAAW,EAAXA,WAJwD;AAKxDC,IAAAA,SAAS,EAATA;AALwD,GAAD,EAMtDqD,QANsD,CAAtB;AAAA,CAAnC;;AAQA,eAAe/D,OAAO,CACpB0D,eADoB,EAEpBI,kBAFoB,CAAP,CAGbjD,MAHa,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { push } from 'connected-react-router'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport './style.scss'\nimport SocketListener from '../SocketListener'\nimport { joinRoom, sendOrientation, startGameSocket, quitGameSocket, restartGameSocket, powerUpUsedSocket } from '../../sockets/player'\nimport { setSelf, powerUpUsed  } from '../../actions/player'\nimport { startGame, setGameOver } from '../../actions/gameplay'\nimport ReactGA from 'react-ga';\n\nclass Mobile extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\txDir: 0,\n\t\t\tyDir: 0,\n\t\t\tdir: 'equal',\n\t\t\tvisualSpeed: 0,\n\t\t}\n\t\tthis.speeds = ['-6','-5','-4','-3','-2','-1','0','1','2','3','4','5','6']\n\t}\n\n\tcomponentWillMount(){ \n\t\tthis.initialiseAnalytics()\n\t\tlet code = window.location.pathname.split('/')[2]\n\t\tif (code){\n\n\t\t\tlet obj = {\n\t\t      name: '',\n\t\t      room: code.toUpperCase()\n\t\t    }\n\t\t    joinRoom(obj, this)\n\t\t}\n\t}\n\n\tinitialiseAnalytics(){\n \t\tReactGA.initialize('UA-135889592-1');\n\t\tReactGA.pageview('/player');\n\t}\n\n\tcomponentWillReceiveProps(np){\n\t\tif (!np.playerNumber && this.props.playerNumber){\n\t\t\tthis.props.push('not-found')\n\t\t}\n\n\t}\n\n\tcomponentDidMount(){\n\t\twindow.addEventListener('deviceorientation', (orientation) => {\n\t\t\tlet {y, dir, visualSpeed } = this.findLimit(orientation.beta)\n\t\t\t// let x = this.findLimit(orientation.gamma)\n\n\t\t\tif (y !== this.state.yDir){\t\t\t\t\n\t\t\t\tlet dirs = {\n\t\t\t\t\ty: y,\n\t\t\t\t\tplayerNumber: this.props.playerNumber\n\t\t\t\t}\n\t\t\t\tsendOrientation(dirs, this)\n\t\t\t\tthis.setState({yDir: y, visualSpeed, dir})\n\t\t\t}\n\t\t})\n\t}\n\n\tfindLimit(coord){\n\t\t// if (coord < -27.5 + 45) return {y: -20, dir: 'down', visualSpeed: 5}\n\t\tif (coord < -35 + 45) return {y: -12, dir: 'down', visualSpeed: 4}\n\t\telse if (coord < -25 + 45) return {y: -9, dir: 'down', visualSpeed: 3}\n\t\telse if (coord < -15 + 45) return {y: -6, dir: 'down', visualSpeed: 2}\n\t\telse if (coord < -5 + 45) return {y: -3, dir: 'down', visualSpeed: 1}\n\t\telse if (coord < 5 + 45) return {y: 0, dir: 'equal', visualSpeed: 0}\n\t\telse if (coord < 15 + 45) return {y: 3, dir: 'up', visualSpeed: 1}\n\t\telse if (coord < 25 + 45) return {y: 6, dir: 'up', visualSpeed: 2}\n\t\telse if (coord < 35 + 45) return {y: 9, dir: 'up', visualSpeed: 3}\n\t\t// else if (coord < 45 + 45) return {y: 16, dir: 'up', visualSpeed: 4}\n\t\telse return {y: 12, dir: '+', dir: 'up', visualSpeed: 4}\n\t}\n\n\tusePowerUp(){\n\t\tlet obj = {\n\t\t\troom: this.props.room,\n\t\t\tplayerNumber: this.props.playerNumber,\n\t\t\tpowerUp: this.props.powerUp\n\t\t}\n\t\t\n\t\tpowerUpUsedSocket(obj, this)\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"mobile\">\n\t\t\t\t<SocketListener />\n\t\t\t\t<div className=\"gamePadContainer\">\n\t\t\t\t\t\t<div className=\"gamePad\">\n\t\t\t\t\t\t\t<p className=\"instructionsMobile\">Tilt phone to control paddle</p>\n\t\t\t\t\t\t\t{this.props.gameOver &&\n\t\t\t\t\t\t\t\t<p className=\"playerResult\">{this.props.winner.indexOf(this.props.playerNumber) > -1 ? 'You win' : 'You lose'}</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"speedContainer\">\n\t\t\t\t\t\t\t\t{this.state.dir === 'up' && Array.apply(null, { length: this.state.visualSpeed }).map((e, i) => {\n\t\t\t\t\t\t\t\t\treturn(\t\n\t\t\t\t\t\t\t\t\t\t<div key={i} className=\" fontawesome chevronUp\" style={{}}/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t{this.state.dir === 'down' && Array.apply(null, { length: this.state.visualSpeed }).map((e, i) => {\n\t\t\t\t\t\t\t\t\treturn(\t\n\t\t\t\t\t\t\t\t\t\t<div key={i} className=\" fontawesome chevronDown\" style={{}}/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t{this.state.dir === 'equal' && <div className=\"equal fontawesome \" />}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"info\">\t\n\t\t\t\t\t<div className=\"buttonSetMobile\">\n\t\t\t\t\t\t<div className=\"pausePlay buttonMobile\">\n\t\t\t\t\t\t\t{!this.props.gameIsStarted && !this.props.gameOver &&\n\t\t\t\t\t\t\t\t<img src={require('assets/images/playBlack.png')} className=\"play\" onClick={startGameSocket.bind(this, this)}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{this.props.gameIsStarted && !this.props.gameOver &&\n\t\t\t\t\t\t\t\t<img src={require('assets/images/pauseBlack.png')} onClick={startGameSocket.bind(this, this)}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{this.props.gameOver &&\n\t\t\t\t\t\t\t\t<img src={require('assets/images/playBlack.png')} className=\"play\" onClick={restartGameSocket.bind(this, this)}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!this.props.gameOver &&\n\t\t\t\t\t\t\t<p className=\"headerMobile\">Player{JSON.stringify(this.props.playerNumber) === 'null' ? 0 : JSON.stringify(this.props.playerNumber)} </p>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{this.props.gameOver &&\n\t\t\t\t\t\t\t<p className=\"headerMobile\">Player{JSON.stringify(this.props.playerNumber) === 'null' ? 0 : JSON.stringify(this.props.playerNumber)} </p>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className=\"buttonMobile warning quit\" onClick={quitGameSocket.bind(this, this)} >\n\t\t\t\t\t\t\t<p>Quit</p>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tgameIsStarted: state.gameplay.gameIsStarted,\n\trouter: state.router,\n\troom: state.player.room,\n\tplayerNumber: state.player.playerNumber,\n\tgameOver: state.gameplay.gameOver,\n\twinner: state.gameplay.winner,\n\tpowerUp: state.player.powerUp\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  push: (path) => push(path),\n  setSelf,\n  setGameOver,\n  powerUpUsed,\n  startGame,\n}, dispatch)\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Mobile)"]},"metadata":{},"sourceType":"module"}