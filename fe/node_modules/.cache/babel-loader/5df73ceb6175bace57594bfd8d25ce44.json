{"ast":null,"code":"function subscribeToHostEvents(self, socket, cb) {\n  socket.on('start-game', startGame.bind(this, cb));\n  socket.on('device-orientation-sending', gotCoords.bind(this, cb));\n  socket.on('quit-game-player', quitGamePlayer.bind(this, self));\n  socket.on('restart-game', restartGame.bind(this, cb));\n}\n\nfunction unsubscribeToHostEvents(socket) {\n  socket.removeAllListeners(\"start-game\");\n  socket.removeAllListeners(\"device-orientation-sending\");\n  socket.removeAllListeners(\"quit-game-player\");\n  socket.removeAllListeners(\"restart-game\");\n}\n\nfunction gotCoords(cb, data) {\n  console.log('getting coords data');\n\n  if (data.coords.playerNumber === 1) {\n    cb('setCoords1', data);\n  } else {\n    cb('setCoords2', data);\n  }\n}\n\nfunction restartGame(cb) {\n  cb('setGameOver', false);\n}\n\nfunction quitGamePlayer(self) {\n  self.props.push('h');\n}\n\nfunction startGame(cb) {\n  cb('startGame');\n}\n\nfunction gameOver(self, winner, socket) {\n  self.props.setGameOver(true);\n  socket.emit('game-over', winner);\n}\n\nfunction startRound(self, cb, socket) {\n  socket.emit('start-round');\n}\n\nexport { unsubscribeToHostEvents, gameOver, subscribeToHostEvents, startRound };","map":{"version":3,"sources":["/Users/bobby.hewitt/Documents/test/ops/fe/src/sockets/PingP/host.js"],"names":["subscribeToHostEvents","self","socket","cb","on","startGame","bind","gotCoords","quitGamePlayer","restartGame","unsubscribeToHostEvents","removeAllListeners","data","console","log","coords","playerNumber","props","push","gameOver","winner","setGameOver","emit","startRound"],"mappings":"AAAA,SAASA,qBAAT,CAA+BC,IAA/B,EAAqCC,MAArC,EAA6CC,EAA7C,EAAiD;AAC9CD,EAAAA,MAAM,CAACE,EAAP,CAAU,YAAV,EAAwBC,SAAS,CAACC,IAAV,CAAe,IAAf,EAAqBH,EAArB,CAAxB;AACAD,EAAAA,MAAM,CAACE,EAAP,CAAU,4BAAV,EAAwCG,SAAS,CAACD,IAAV,CAAe,IAAf,EAAqBH,EAArB,CAAxC;AACAD,EAAAA,MAAM,CAACE,EAAP,CAAU,kBAAV,EAA8BI,cAAc,CAACF,IAAf,CAAoB,IAApB,EAA0BL,IAA1B,CAA9B;AACAC,EAAAA,MAAM,CAACE,EAAP,CAAU,cAAV,EAA0BK,WAAW,CAACH,IAAZ,CAAiB,IAAjB,EAAuBH,EAAvB,CAA1B;AACF;;AACD,SAASO,uBAAT,CAAiCR,MAAjC,EAAyC;AACxCA,EAAAA,MAAM,CAACS,kBAAP,CAA0B,YAA1B;AACAT,EAAAA,MAAM,CAACS,kBAAP,CAA0B,4BAA1B;AACAT,EAAAA,MAAM,CAACS,kBAAP,CAA0B,kBAA1B;AACAT,EAAAA,MAAM,CAACS,kBAAP,CAA0B,cAA1B;AACA;;AAED,SAASJ,SAAT,CAAmBJ,EAAnB,EAAuBS,IAAvB,EAA4B;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;;AACA,MAAIF,IAAI,CAACG,MAAL,CAAYC,YAAZ,KAA6B,CAAjC,EAAmC;AAClCb,IAAAA,EAAE,CAAC,YAAD,EAAeS,IAAf,CAAF;AACA,GAFD,MAEO;AACNT,IAAAA,EAAE,CAAC,YAAD,EAAeS,IAAf,CAAF;AACA;AACD;;AAED,SAASH,WAAT,CAAqBN,EAArB,EAAwB;AACvBA,EAAAA,EAAE,CAAC,aAAD,EAAgB,KAAhB,CAAF;AACA;;AAED,SAASK,cAAT,CAAwBP,IAAxB,EAA6B;AAC5BA,EAAAA,IAAI,CAACgB,KAAL,CAAWC,IAAX,CAAgB,GAAhB;AACA;;AAED,SAASb,SAAT,CAAmBF,EAAnB,EAAsB;AACrBA,EAAAA,EAAE,CAAC,WAAD,CAAF;AACA;;AAED,SAASgB,QAAT,CAAkBlB,IAAlB,EAAwBmB,MAAxB,EAAgClB,MAAhC,EAAuC;AACtCD,EAAAA,IAAI,CAACgB,KAAL,CAAWI,WAAX,CAAuB,IAAvB;AACAnB,EAAAA,MAAM,CAACoB,IAAP,CAAY,WAAZ,EAAyBF,MAAzB;AACA;;AAED,SAASG,UAAT,CAAoBtB,IAApB,EAA0BE,EAA1B,EAA8BD,MAA9B,EAAqC;AACpCA,EAAAA,MAAM,CAACoB,IAAP,CAAY,aAAZ;AACA;;AAID,SACCZ,uBADD,EAECS,QAFD,EAGCnB,qBAHD,EAICuB,UAJD","sourcesContent":["function subscribeToHostEvents(self, socket, cb) {\n  \tsocket.on('start-game', startGame.bind(this, cb))\n  \tsocket.on('device-orientation-sending', gotCoords.bind(this, cb))\n  \tsocket.on('quit-game-player', quitGamePlayer.bind(this, self))\n  \tsocket.on('restart-game', restartGame.bind(this, cb))\n}\nfunction unsubscribeToHostEvents(socket) {\n\tsocket.removeAllListeners(\"start-game\");\n\tsocket.removeAllListeners(\"device-orientation-sending\");\n\tsocket.removeAllListeners(\"quit-game-player\");\n\tsocket.removeAllListeners(\"restart-game\");\n}\n\nfunction gotCoords(cb, data){\n\tconsole.log('getting coords data')\n\tif (data.coords.playerNumber === 1){\n\t\tcb('setCoords1', data)\n\t} else {\n\t\tcb('setCoords2', data)\n\t}\n}\n\nfunction restartGame(cb){\n\tcb('setGameOver', false)\n}\n\nfunction quitGamePlayer(self){\n\tself.props.push('h')\n}\n\nfunction startGame(cb){\n\tcb('startGame')\n}\n\nfunction gameOver(self, winner, socket){\n\tself.props.setGameOver(true)\n\tsocket.emit('game-over', winner)\n}\n\nfunction startRound(self, cb, socket){\n\tsocket.emit('start-round');\n}\n\n\n\nexport { \n\tunsubscribeToHostEvents,\n\tgameOver,\n\tsubscribeToHostEvents,\n\tstartRound\n};"]},"metadata":{},"sourceType":"module"}