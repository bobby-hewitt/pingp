{"ast":null,"code":"function subscribeToPlayerEvents(self, socket, cb) {\n  console.log('SUBSCRIBING TO PLAYER PINGP');\n  socket.on('start-game', gameStarted.bind(this, self, socket));\n  socket.on('restart-game', restartGame.bind(this, cb, socket));\n  socket.on('game-over', gameOver.bind(this, self, socket));\n  socket.on('quit-game-player', quitGamePlayer.bind(this, self));\n}\n\nfunction unsubscribeToPlayerEvents(socket) {\n  socket.removeAllListeners(\"start-game\");\n  socket.removeAllListeners(\"restart-game\");\n  socket.removeAllListeners(\"game-over\");\n  socket.removeAllListeners(\"quit-game-player\");\n}\n\nfunction gameOver(self, data) {\n  self.props.setGameOver(true, data); // cb('setGameOver', true)\n}\n\nfunction sendOrientation(coords, self, socket) {\n  // self.props.push('/inthefunction')\n  if (self.props.room) {\n    var data = {\n      room: self.props.room,\n      coords: coords\n    };\n    emit('device-orientation', data, socket);\n  }\n}\n\nfunction restartGame(cb) {\n  cb('setGameOver', false);\n}\n\nfunction startGameSocket(self, socket) {\n  self.props.startGame();\n  emit('start-game', self.props.room, socket);\n}\n\nfunction quitGameSocket(self, socket) {\n  self.props.push('/m/home');\n  emit('quit-game-player', self.props.room, socket);\n}\n\nfunction quitGamePlayer(self) {\n  self.props.push('m/home');\n}\n\nfunction restartGameSocket(self, socket) {\n  emit('restart-game', self.props.room, socket);\n  self.props.setGameOver(false);\n}\n\nfunction gameStarted(cb) {\n  cb('startGame', false);\n}\n\nfunction emit(action, data, socket) {\n  socket.emit(action, data);\n}\n\nexport { unsubscribeToPlayerEvents, restartGameSocket, quitGameSocket, startGameSocket, sendOrientation, subscribeToPlayerEvents };","map":{"version":3,"sources":["/Users/bobby.hewitt/Documents/test/ops/fe/src/sockets/PingP/player.js"],"names":["subscribeToPlayerEvents","self","socket","cb","console","log","on","gameStarted","bind","restartGame","gameOver","quitGamePlayer","unsubscribeToPlayerEvents","removeAllListeners","data","props","setGameOver","sendOrientation","coords","room","emit","startGameSocket","startGame","quitGameSocket","push","restartGameSocket","action"],"mappings":"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","sourcesContent":["function subscribeToPlayerEvents(self, socket, cb) {\n\tconsole.log('SUBSCRIBING TO PLAYER PINGP')\n\tsocket.on('start-game', gameStarted.bind(this, self, socket))\n\tsocket.on('restart-game', restartGame.bind(this, cb, socket))\n\tsocket.on('game-over', gameOver.bind(this, self, socket))\n\tsocket.on('quit-game-player', quitGamePlayer.bind(this, self))\n}\n\nfunction unsubscribeToPlayerEvents(socket){\n\tsocket.removeAllListeners(\"start-game\");\n\tsocket.removeAllListeners(\"restart-game\");\n\tsocket.removeAllListeners(\"game-over\");\n\tsocket.removeAllListeners(\"quit-game-player\");\n}\n\n\nfunction gameOver(self, data){\n\tself.props.setGameOver(true, data)\n\t// cb('setGameOver', true)\n}\n\nfunction sendOrientation(coords, self, socket){\n\t// self.props.push('/inthefunction')\n\tif (self.props.room){\n\t\tlet data = {\n\t\t\troom: self.props.room,\n\t\t\tcoords: coords\n\t\t}\n\t\temit('device-orientation', data, socket)\n\t}\n}\n\nfunction restartGame(cb){\n\tcb('setGameOver', false)\n}\n\nfunction startGameSocket(self, socket){\t\n\tself.props.startGame()\n\temit('start-game', self.props.room, socket)\n}\n\nfunction quitGameSocket(self, socket){\n\tself.props.push('/m/home')\n\temit('quit-game-player', self.props.room, socket)\n}\n\nfunction quitGamePlayer(self){\n\tself.props.push('m/home')\n}\n\nfunction restartGameSocket(self, socket){\n\temit('restart-game', self.props.room, socket)\n\tself.props.setGameOver(false)\t\n}\n\nfunction gameStarted(cb){\n\tcb('startGame', false)\n}\n\n\n\nfunction emit(action, data, socket){\n\tsocket.emit(action, data)\n}\n\nexport { \n\tunsubscribeToPlayerEvents,\n\trestartGameSocket,\n\tquitGameSocket,\n\tstartGameSocket,\n\tsendOrientation,\n\tsubscribeToPlayerEvents,\n\n};"]},"metadata":{},"sourceType":"module"}